# RemakeFactory 
RemakeFactory 是一款强大的功能性和生活质量（QoL）模组，专为高级玩家、自动化专家和整合包作者设计，其核心功能围绕增强 **格雷科技社区版 (GregTech CEu, GTCEu)** 的游戏体验。它提供了一整套工具，用于修复常见的配方问题、测试复杂的自动化设置以及优化生产线。

## 功能特性

本模组的功能分为两大核心部分：用于实时修改配方的 **配方劫持器 (Recipe Hijacker)** 和用于深度配方分析的 **冲突优化器 (Conflict Optimizer)**。

### 1. 配方劫持器 (Recipe Hijacker)

此功能允许在配方被使用时（例如在应用能源2的样板编码终端中）对其进行动态修改。它有助于解决一些常见的不便之处，并能在无需复杂数据包的情况下缩放配方。所有选项均可通过游戏内指令 `/ref config` 进行配置。

*   **删除零消耗输入 (Remove Zero-Chance Inputs)**: 自动过滤掉那些消耗概率为0%的输入原料（例如在JEI中显示但实际不消耗的催化剂）。这能清理样板，防止自动化系统请求不必要的物品。
*   **交换输入顺序 (Reverse Input Order)**: 翻转配方中物品输入的顺序。这在应对AE2样板编码的特性时尤其有用。
*   **缩放配方输入/输出 (Scale Recipe IO)**: 将配方的输入和输出乘以一个可配置的倍率。想要一次性合成64个零件？只需设置好倍率，然后编码样板，即可即时创建大批量合成配方。
*   **多方块结构占位符 (Multiblock Placeholder Item)**: 一个特殊的创造模式物品，可以作为任何GTCEu多方块结构的占位符。

### 2. 配方冲突优化器 (Recipe Conflict Optimizer)

这是一个先进的游戏内分析工具，旨在解决复杂自动化中的“配方歧义性”问题。它提供了一个强大的指令 `/ref conflict`，能够静态分析配方集合，并找出能够在一个机器或系统中安全共存的最大配方组合。

*   **基于书签的工作流 (`/ref conflict bookmarks`)**:
    *   使用您的JEI配方书签作为生产线的“草稿”。
    *   指令会读取您指定的书签文件，并按给定的模组ID（如 `gtceu`）进行筛选。
    *   它会智能地分析配方集中的所有类型冲突，包括微妙的组合性冲突。
    *   **单配方模式 (探索)**: 如果只收藏了一个配方，工具会假定您想进行探索。它将搜索该配方所在机器的所有其他配方，以找到最大的兼容集合。
    *   **多配方模式 (优化)**: 如果收藏了多个配方，工具会假定您想优化这个特定列表。它将从您的书签中筛选出最大的无冲突子集。
    *   最终，安全的配方列表将被导出到一个新的 `bookmarks_optimized.ini` 文件中，为您提供一份“安全生产清单”。

*   **即时测试 (`/ref conflict test`)**:
    *   一个为开发者和整合包作者设计的强大工具，可以通过提供完整的配方ID来快速测试任意配方组合。
    *   它会报告给定的集合是否无冲突，或优化后的结果会是怎样。

*   **高级特性**: 优化器同时支持用于大范围探索的快速**贪心算法**，以及能保证复杂集合最优解的、彻底的**多线程回溯算法**。

## 使用方法


*   **配置**: `/ref config recipe_hijacker gtceu <选项> [值]`
    *   示例: `/ref config recipe_hijacker gtceu enable true`
*   **冲突分析**: `/ref conflict <bookmarks|test> ...`
    *   示例: `/ref conflict bookmarks "config/jei/world/local/dev/bookmarks.ini" gtceu false`

有关详细的指令语法，请使用游戏内的Tab自动补全功能。